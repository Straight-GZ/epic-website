(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[7],{273:function(e,t,r){"use strict";r.r(t);r(0);var n,i,c=r(112),a=r(40),l=r(28),s=r(54),d=r(21),j=r(271),h=r(150),b=r(251),g=r(275),u=r(29),o=r(4),p=j.a.Dragger,x=u.a.div(n||(n=Object(l.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n  word-break: break-all;\n\n  > h1 {\n    margin: 20px 0;\n    text-align: center;\n  }\n\n  img {max-width: 500px}\n"]))),O=Object(c.a)((function(){var e=Object(s.a)(),t=e.ImageStore,r=e.UserStore,n=Object(d.d)((function(){return{width:null,setWidth:function(e){n.width=e},get withStr(){return n.width?"/w/".concat(n.width):""},height:null,setHeight:function(e){n.height=e},get heightStr(){return n.height?"/h/".concat(n.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+n.withStr+n.heightStr}}})),i={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),window.file=e,r.currentUser?/(svg$)|(jpeg$)|(gif$)|(png$)|(jpg$)/gi.test(e.type)?e.size>1048576?(h.b.warning("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc71M"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(h.b.warning("\u53ea\u80fd\u4e0a\u4f20.svg/.jpeg/.jpg/.png/.gif\u683c\u5f0f\u6587\u4ef6"),!1):(h.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),!1)}};return Object(o.jsxs)("div",{children:[Object(o.jsx)(b.a,{tip:"\u6b63\u5728\u4e0a\u4f20",spinning:t.isUpLoading,children:Object(o.jsxs)(p,Object(a.a)(Object(a.a)({},i),{},{children:[Object(o.jsx)("p",{className:"ant-upload-drag-icon",children:Object(o.jsx)(g.a,{style:{color:"black"}})}),Object(o.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(o.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.jpg/.jpeg/.png/.svg/.gif\u683c\u5f0f\u56fe\u7247\uff0c\u56fe\u7247\u6700\u59271M"})]}))}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:t.serverFile?Object(o.jsxs)(x,{children:[Object(o.jsx)("h1",{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(o.jsxs)("dl",{children:[Object(o.jsx)("dt",{children:"URL"}),Object(o.jsx)("dd",{children:Object(o.jsx)("a",{rel:"noreferrer",target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:t.serverFile.attributes.url.attributes.url})}),Object(o.jsx)("dt",{children:"\u6587\u4ef6\u540d"}),Object(o.jsx)("dd",{children:t.filename}),Object(o.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),Object(o.jsx)("dd",{children:Object(o.jsx)("img",{src:t.serverFile.attributes.url.attributes.url,alt:""})}),Object(o.jsx)("dt",{children:"\u66f4\u591a\u5c3a\u5bf8"}),Object(o.jsxs)("dd",{children:[Object(o.jsx)("input",{onChange:function(e){n.setWidth(e.target.value)},type:"text",placeholder:"\u8bf7\u8f93\u5165\u5bbd\u5ea6"}),Object(o.jsx)("input",{onChange:function(e){n.setHeight(e.target.value)},type:"text",placeholder:"\u8bf7\u8f93\u5165\u9ad8\u5ea6"})]}),Object(o.jsx)("dd",{children:Object(o.jsx)("a",{target:"_blank",rel:"noreferrer",href:n.fullStr,children:n.fullStr})})]})]}):""})})]})})),f=u.a.div(i||(i=Object(l.a)(["\n  background: white;\n  color: darkorange;\n  border-radius: 4px;\n  padding: 10px 30px;\n  margin: 30px 0;\n"]))),w=Object(c.a)((function(e){var t=e.children,r=Object(s.a)().UserStore;return Object(o.jsx)(o.Fragment,{children:r.currentUser?null:Object(o.jsx)(f,{children:t})})})),v=Object(c.a)((function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(w,{children:"\u8bf7\u5148\u767b\u5f55!!"}),Object(o.jsx)(O,{})]})}));t.default=v}}]);
//# sourceMappingURL=7.6ed8be8d.chunk.js.map